{"ast":null,"code":"import { addToCart, removeFromCart, finishiOrder } from \"./actions\";\nimport { toast } from \"react-toastify\";\n\nconst addToCartThunk = (product, setError) => dispatch => {\n  const list = JSON.parse(localStorage.getItem(\"cart\")) || [];\n  list.push(product);\n  localStorage.setItem(\"cart\", JSON.stringify(list));\n  dispatch(addToCart(product));\n  toast.success('Produto adicionado');\n};\n\nexport default addToCartThunk;\nexport const removeFromCartThunk = id => (dispatch, getStore) => {\n  const {\n    cart\n  } = getStore();\n  const list = cart.filter(product => product.id !== id);\n  localStorage.setItem(\"cart\", JSON.stringify(list));\n  dispatch(removeFromCart(list));\n};\nexport const finishOrderThunk = () => dispatch => {\n  const list = [];\n  localStorage.setItem(\"cart\", JSON.stringify(list));\n  dispatch(finishiOrder(list));\n  alert(\"Pedido efetuado com sucesso\");\n};","map":{"version":3,"sources":["/home/vinicius/kenzie/m3/react-entrega-s3-kenzieshop-vinistm/src/store/modules/cart/thunks.js"],"names":["addToCart","removeFromCart","finishiOrder","toast","addToCartThunk","product","setError","dispatch","list","JSON","parse","localStorage","getItem","push","setItem","stringify","success","removeFromCartThunk","id","getStore","cart","filter","finishOrderThunk","alert"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,cAApB,EAAoCC,YAApC,QAAwD,WAAxD;AACA,SAASC,KAAT,QAAsB,gBAAtB;;AACA,MAAMC,cAAc,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAwBC,QAAD,IAAc;AAC1D,QAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,KAA4C,EAAzD;AACAJ,EAAAA,IAAI,CAACK,IAAL,CAAUR,OAAV;AACAM,EAAAA,YAAY,CAACG,OAAb,CAAqB,MAArB,EAA6BL,IAAI,CAACM,SAAL,CAAeP,IAAf,CAA7B;AACAD,EAAAA,QAAQ,CAACP,SAAS,CAACK,OAAD,CAAV,CAAR;AACAF,EAAAA,KAAK,CAACa,OAAN,CAAc,oBAAd;AACD,CAND;;AAQA,eAAeZ,cAAf;AAEA,OAAO,MAAMa,mBAAmB,GAAIC,EAAD,IAAQ,CAACX,QAAD,EAAWY,QAAX,KAAwB;AACjE,QAAM;AAAEC,IAAAA;AAAF,MAAWD,QAAQ,EAAzB;AAGA,QAAMX,IAAI,GAAGY,IAAI,CAACC,MAAL,CAAahB,OAAD,IAAaA,OAAO,CAACa,EAAR,KAAeA,EAAxC,CAAb;AACAP,EAAAA,YAAY,CAACG,OAAb,CAAqB,MAArB,EAA6BL,IAAI,CAACM,SAAL,CAAeP,IAAf,CAA7B;AACAD,EAAAA,QAAQ,CAACN,cAAc,CAACO,IAAD,CAAf,CAAR;AACD,CAPM;AASP,OAAO,MAAMc,gBAAgB,GAAG,MAAOf,QAAD,IAAc;AAClD,QAAMC,IAAI,GAAG,EAAb;AACAG,EAAAA,YAAY,CAACG,OAAb,CAAqB,MAArB,EAA6BL,IAAI,CAACM,SAAL,CAAeP,IAAf,CAA7B;AACAD,EAAAA,QAAQ,CAACL,YAAY,CAACM,IAAD,CAAb,CAAR;AACAe,EAAAA,KAAK,CAAC,6BAAD,CAAL;AACD,CALM","sourcesContent":["import { addToCart, removeFromCart, finishiOrder } from \"./actions\";\nimport { toast } from \"react-toastify\";\nconst addToCartThunk = (product, setError) => (dispatch) => {\n  const list = JSON.parse(localStorage.getItem(\"cart\")) || [];\n  list.push(product);\n  localStorage.setItem(\"cart\", JSON.stringify(list));\n  dispatch(addToCart(product));\n  toast.success('Produto adicionado');\n};\n\nexport default addToCartThunk;\n\nexport const removeFromCartThunk = (id) => (dispatch, getStore) => {\n  const { cart } = getStore();\n  \n\n  const list = cart.filter((product) => product.id !== id);\n  localStorage.setItem(\"cart\", JSON.stringify(list));\n  dispatch(removeFromCart(list));\n};\n\nexport const finishOrderThunk = () => (dispatch) => {\n  const list = [];\n  localStorage.setItem(\"cart\", JSON.stringify(list));\n  dispatch(finishiOrder(list));\n  alert(\"Pedido efetuado com sucesso\");\n};"]},"metadata":{},"sourceType":"module"}